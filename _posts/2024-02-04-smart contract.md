---
title: 📝 스마트 컨트랙트
date : 2024-02-04 20:00
category : [Study, BlockChain]
tags : [go,smart contract]
---
블록체인에 관한 공부의 필요성도 느껴 하나씩 포스팅 하려 한다.   
첫 번째는 스마트 컨트랙트에 대한 내용이다.

# 개요   
스마트 컨트랙트(Smart contract)는 직역 시 `똑똑한 계약서`라는 뜻이다. 똑똑한 계약서라.. 무언가 자동화가 되어있다는 의미일 듯한데 무엇일까?   

# 스마트 컨트랙트란?   
스마트 컨트랙트는 **계약 당사자 간 거래 내용을 코드로 기록해 블록체인에 올리면, 계약 조건이 충족됐을 때 계약을 자동으로 이행해 주는 시스템**이다.   
이를 통해 **은행처럼 계약 이행을 검증,보증하는 중앙화된 제3자 없이도 계약을 자동으로 이행**할 수 있다는 점에서 매우 편리하고 경제적이다.   

기존 방식에 어떤 문제를 보완하기 위해 이러한 개념이 나온걸까? 알아보도록 하자

## 스마트 컨트랙트 등장 배경   
### 기존 계약 방식의 문제점   
1) 주식 거래   
온라인 주식 거래는 주식을 팔려는 매도자와 주식을 구매하려는 매수자 간에 자산을 거래하는 것이다. 즉, 거래는 매도자와 매수자 간에 직접적으로 발생한다.
그러나, 실제로 주식 거래 시에는 다음과 같은 Step이 진행된다.   
- 매수자가 매매 대금을 **은행**에 지불    
- 은행은 **한국예탈결제원**에 장부상 소유권 이전을 요청   
- 매매 대금이 **시중은행**간 계정을 통해 결제   
<br>

2) 해외 송금   
해외 송금도 비슷하다. 외국 송금 시 Step은 다음과 같다.   
- **은행**에 해외 송금을 요청   
- 은행은 **외환중개은행**에 지급 요청   
- 외환중개은행은 송금받을 **해외 은행**에 입금   
- 해외 은행이 수취인에게 전달

이런 Step에서 은행이 외환중개은행에 요청할 때 송금 수수료와 전신료가 발생하고, 외환중개은행이 해외 은행에 입금할 때도 중개수수료가 발생, 해외 은행이 입금받는 과정에서도 수취료가 발생한다.   

주식 거래와 해외 송금 사례에서 알 수 있듯, 개인 간 거래를 할 때도 **수 많은 중개자**를 거쳐야 한다. 왜 이런 복잡한 절차를 거쳐야 할까? 이는 **디지털 데이터의 특징** 때문이다.   

**디지털 데이터는 복제가 쉽다**. 디지털 자산 역시 복제될 위험이 있다. 따라서 아무나 **디지털 자산을 함부로 다룰 수 없도록 은행과 정부는 신뢰할 수 있는 금융 기관을 설립해 거래를 검증**한다. 이렇게 디지털 상에서 거래할 때 **거래를 검증하는 기관을 신뢰할수 있는 제3자(trusted third party)**라고 한다. 오늘날의 디지털 자산 거래는 신뢰할 수 있는 제3자라는 **중앙 주체에게 무결성과 보안을 의존**하고 있다.   

이런 방식은 매우 불편하다. 거래 중간 과정에서 제3자가 많아질수록 **거래가 처리되는 데 시간이 오래걸릴 것**이다. 또한, 신뢰할 수 있는 제3자를 유지하는 비용은 국가의 세금 또는 개개인의 수수료로 충당되는 경우가 많다. 즉, **신뢰할 수 있는 제3자를 통한 금융 거래를 위한 비용은 사용자가 부담**해야 한다.


### Trustless system   
기존 디지털 거래 시스템은 신뢰할 수 있는 제3자를 통해 거래를 할 수 있었다. 이로 인해 개인이 부담해야 하는 비용이 컸고, 제3자 시스템에 보안 등의 문제가 생기는 경우 개인이 자신의 자산을 보호할 수 있는 방법이 없었다.   

따라서 1980년대부터 보완 방안을 연구하기 시작했다. 1994년 **암호학자 닉 사보(Nick Szabo)**는 자신의 아티클 `Smart Contract`를 통해 다음과 같은 개념을 정의했다.   

> **"a computerized transaction protocol that executes the terms of a contract" (계약 사항을 이행하는 전산화된 거래 프로토콜)**   

**스마트 컨트랙트란 당사자 간에 계약을 작성하고, 계약 조건을 컴퓨터를 통해 자동으로 계약을 이행**하는 것이다.  

![](/assets/img/YY-MM/2024-02-04-19-30-00.png)   

닉 사보는 스마트 컨트랙트를 설명하기 위해 자판기를 예로 들었다.   

커피 자판기에 300원을 넣으면 자판기는 커피를 제공한다. 다시 말해, **자판기와 나 사이에는 `300원을 넣으면(조건), 커피를 내려준다(이행)이라는 계약이 존재**하는 것이다.   

중요한 것은, **자판기의 계약 실행 과정에서 신뢰할 수 있는 제3자가 필요하지 않다는 것**이다. 자판기에는 이 계약이 프로그래밍 되어 있으며, 자판기의 하드웨어가 300원이 들어왔다고 인식하는 순간 자동으로 계약을 이행하기 때문이다.   

닉 사보가 제안한 스마트 컨트랙트는 다음의 특징을 가지고 있다.   

1. 지불 조건, 유치권, 기밀 보장 등 **일반적인 계약의 조건**을 만족해야 한다.
2. 계약 지불 조건이 만족되면, **자동으로 계약이 이행**되어야 한다. 이를 위해 **컴퓨터 코드로 스마트 컨트랙트를 작성**하고, **조건에 따라 자동으로 계약이 수행**되도록 해야 한다.

그러나 스마트 컨트랙틔 개념이 등장한 후, 실제로 구현되기까지는 많은 시간이 걸렸다. 스마트 컨트랙트의 핵심은 컴퓨터 코드로 계약 내용을 작성하고, 조건을 만족하면 컴퓨터가 이를 자동으로 이행해줘야 하는데, 컴퓨터 시스템에 있는 데이터는 쉽게 위변조가 가능하기 때문이다.   

**데이터의 무결성을 보장**할 수 있는 다양한 방법이 있지만, 스마트 컨트랙트의 개념이 처음 등장했을 때에는 이 개념을 구현할 기술이 충분하지 않았기 때문에 한계가 있었다.

오늘날에는 이러한 **기술적 한계를 극복할 수 있는 방향을 블록체인**에서 찾았다.   

2009년 비트코인이 등장하면서, Peer-to-Peer 네트워크 기반 분산 데이터베이스를 통해 데이터의 무결성을 보장할 수 있는 방법이 생긴 것이다. 블록체인에서는 네트워크에 참여하는 노드가 동일한 데이터를 공유하고, 암호화 기술을 사용해 데이터의 무결성을 검증할 수 있다.   

마찬가지로 스마트 컨트랙트를 블록체인 네트워크에 공유하면 스마트 컨트랙트 코드가 변경되었는지의 여부를 검증할 수 있으며, 조건을 이행하면 실행할 수 있다.   


## 👉 스마트 컨트랙트의 장점
스마트 컨트랙트는 중앙집중형 디지털 계약과 비교했을 때 다음과 같은 장점이 있다.   

### 1. 보안   
스마트 컨트랙트는 블록체인 네트워크 위에서 생성되고 실행된다. 따라서 컨트랙트 코드와 컨트랙트 수행 내역 역시 **블록체인 네트워크에 참여하는 모든 노드가 공유**하게 된다. 따라서 누군가가 계약 기록을 조작하기 위해선 이 기록을 가지고 있는 모든 노드의 데이터를 변조해야 한다. 노드의 수가 많아질 수록 조작은 더 어려워질 것이다.

### 2. 신뢰성 & 투명성   
스마트 컨트랙트 코드에 작성된 조건이 만족되면, 계약이 이행된다. 이 계약 이행은 계약 당사자의 컴퓨터에서 기록되는 것이 아니라, 많은 참여 노드들에 의해 검증된다. 만약 계약 이행 검증 시 문제점이 발견되면 계약 이행 자체가 취소된다. 즉, **계약 내용 및 계약 이행 결과를 위변조하는 것이 어렵고, 여러 노드에 의해 계약 결과가 검증되기 때문에 신뢰성과 투명성이 높다.**   

### 3. 효율성
한 번 스마트 컨트랙트 코드를 작성해 배포하고 나면 계약 당사자들이 수동으로 데이터를 입력하거나, 상대방의 계약 의무 이행 여부를 검증하거나, 제3자를 통해 계약 이행 여부를 확인하지 않아도 되기 때문에 효율성이 높다.   


지금까지 스마트 컨트랙트의 개념과 등장 배경, 장점 등 기본적인 개념을 알아보았다.   

다음엔 스마트 컨트랙트의 작동 방식과 활용 사례를 포스팅 예정이다.


[출처 : 코드스테이츠](https://www.codestates.com/blog/content/%EB%B8%94%EB%A1%9D%EC%B2%B4%EC%9D%B8-%EC%8A%A4%EB%A7%88%ED%8A%B8-%EC%BB%A8%ED%8A%B8%EB%9E%99%ED%8A%B8-%EA%B0%9C%EB%85%90-%EB%B0%8F-%EC%9E%A5%EC%A0%90) 